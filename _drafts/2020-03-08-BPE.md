---

layout: post
title:  Subword Algorithm
date:   2020-03-08 17:20:00
categories: [NLP]
tags: [AI, NLP]

---

# 背景
做自然语言处理，不管是中文还是英文都离不开分词，中文分词有基于统计和词典规则的分词，英文由于词语之间天然的带有空格，所以经常会以空格作为分词分隔符，若词语后有标点可把标点分割开来。但是，同一个词根的词语由于其词性的变化不同会被作为不同的词语，这样会使的词表变得很大。此外对于在训练集中未出现的词语，词典中无法识别。模型学到的“old”, “older”, and “oldest”之间的关系无法泛化到“smart”, “smarter”, and “smartest”。Subword 的出现就是为了解决这些问题的。

# 算法详细
1. 准备足够大的训练语料
2.  确定期望的subword词表大小
3.  将单词拆分为字符序列并在末尾添加后缀“ </ w>”，统计单词频率。 本阶段的subword的粒度是字符。 例如，“ low”的频率为5，那么我们将其改写为“ l o w </ w>”：5
4.  统计每一个连续字节对的出现频率，选择最高频者合并成新的subword
5.  重复第4步直到达到第2步设定的subword词表大小或下一个最高频的字节对出现频率为1
**停止符"</w>"的意义在于表示subword是词后缀。举例来说："st"字词不加"</w>"可以出现在词首如"st ar"，加了"</w>"表明改字词位于词尾，如"wide st</w>"，二者意义截然不同。**